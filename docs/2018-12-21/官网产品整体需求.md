# 官网产品整体需求

### 编辑信息

|编写日期|编写人|版本|修改记录|
|----|-----|----|----|
| 2018-12-24 | 王科慧 |v0.18.12.0|整体设计起草|

### 产品需求内容

|编号   | 功能分类  | 说明  | 优先级  | 后端  | 前端  | 备注  |
| ------------ | ------------ | ------------ | ------------ | ------------ | ------------ | ------------ |
| 1  | 编辑目录  | 便于用户查找文档  | P1  | 拥有增删改查四个功能接口  | 实现增删改查功能  | 控制参数前端控制  |
| 2  | 编辑文档  | 用户查看具体信息内容  | P1  | 拥有增删改查四个功能接口  | 实现增删改查功能  | 控制参数前端控制  |
|3|上传图片或附件 |官网展示图片与可下载的附件|P1|拥有增删查三个功能接口|实现增删查功能|前端需指明图片的用处或附件所存的父级位置|
|4|用户账号|管理员的账号管理|P1|拥有增删改查四个功能接口|实现增删改查功能|管理员有审核，其他次管理员没有审核功能|
|5|登录信息|账户管理登录编辑的认证|P1|利用用户账号的功能|控制账户的验证模式|控制管理由前端把握 |

### 产品个别具体情况说明细分

1. 编辑目录说明
 1.1 一级目录是无上级目录信息的，因此不需要传入父级id，而目录又分为二级目录文件夹与文档，当一级目录进行展开显示之时只需展示当前显示目录，后端无需将所有的底层文档目录信息返回，进行分层次查询结果并返回。
 1.2 目录并不设置只有几层，因此需要强大的扩展性，可多层次深入。
 1.3 文档目录的增删改查是由文档编辑来进行决定的，因此在目录中直接操作文档目录是不允许的，相关注意说明在编辑文档说明中。

2. 编辑文档说明
 2.1 编辑文档在新增时是处于草稿阶段，这时是不会触发新增目录的功能，只有通过审核的才会触发并且在目录中查看到该对应的文档目录。
 2.2 编辑文档在进行删除之时，如果是审核的则也需要删除对应的文档目录信息
 2.3 编辑文档在进行修改之时，处在审核过的都要触发更新文档目录信息，如果是草稿则不需要。
 2.4 编辑文档在进行查询时，可能关联着附件，因此需要将附件的路径一并返回。但附件上传的具体说明在编辑附件说明上。

3. 编辑附件说明
 3.1 编辑附件上传也包括轮播图与其他所有的文件内容，没有任何的限制。但图片上传过程中却要注明用处，如果是轮播图或是其他模式的图片显示则注明img，如果需要成为目录方式的则直接标注catal。对于其他的附件，则需要注明上传来处，和父级的id值。这样在对应的父级表中进行插入该附件信息。
 3.2 编辑附件删除也是需要父级id和出处，寻找不同的表单进行删除操作。
 3.3 编辑附件查询值针对于图片的查询，其他附件都包含在图片底层或是文档底层，因此文档查询与图片查询就可以看到所有对应的子附件的所有信息。

4. App说明
 4.1 app上传则需要管理人员主动输入版本号，名称和大小，后端不需要自己主动去读取文档查询。
 4.2 app查询分为三种模式的查询，new/all/10，可以直接查询最新的app版本，也可以全部查出来，或则查询最新的10个版本，而这个10个最新版本则用简单的话来说就是最多为10个，因此版本有多少个都最多展示10个。

5. 用户说明
 5.1 用户第一管理员则不要进行新增功能，而其他管理员则由该管理员进行添加，删除。
 5.2 用户第一管理员是有审核文档的权限，而其他的是没有的，只能编辑，修改，但删除也只能是草稿版的，审核过的文档是不允许没有权限的人去删除的。
 5.3 用户查询可以查询当前用户，或是全部或是对应创建管理员底下的所有管理员。


##备注
- 具体化后端与前端的需求内容则在禅道产品需求中对应。